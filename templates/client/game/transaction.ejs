<!-- Theme JS files -->
<script src="/global_assets/js/plugins/tables/datatables/datatables.min.js"></script>
<script src="/global_assets/js/plugins/tables/datatables/extensions/col_reorder.min.js"></script>
<script src="/global_assets/js/demo_pages/datatables_basic.js"></script>
<!-- /theme JS files -->
<style>
    .datatable-footer .dataTables_info,
    .datatable-header .dataTables_filter {
        display: none;
    }

    .datatable-footer .dataTables_paginate {
        float: none;
        text-align: center !important;
    }
    .dataTable thead .sorting, 
    .dataTable thead .sorting_asc, 
    .dataTable thead .sorting_asc_disabled, 
    .dataTable thead .sorting_desc, 
    .dataTable thead .sorting_desc_disabled {
        padding-right: 2rem !important;
    }
</style>
<div class="content pt-0">
    <!-- <div class="navbar navbar-expand-lg navbar-light horize-tab" style="border: 1px solid rgba(0,0,0,.125);">
        <div class="navbar-collapse " id="">
            <ul class="nav navbar-nav">
                <li class="nav-item nav-header">
                    <a href="<%= envClientUrl %>/wallet" class="navbar-nav-link">
                        <i class="icon-coins mr-1"></i>
                        <%= i18n.__('Topup') %>
                            <span class="badge badge-teal badge-pill ml-auto"></span>
                    </a>
                </li>
                <li class="nav-item nav-header ml-2">
                    <a href="<%= envClientUrl %>/wallet/history" class="navbar-nav-link active">
                        <i class="icon-history mr-1"></i>
                        <%= i18n.__('History') %>
                    </a>
                </li>
            </ul>
        </div>
    </div> -->
    <!-- Inner container -->
    <div class="d-flex align-items-stretch align-items-lg-start flex-column flex-lg-row">

        <!-- Left content -->
        <div class="tab-content w-100 order-2">
            <!-- Basic column reorder -->
					<div class="card">
						<div class="card-header">
							<h5 class="card-title font-weight-semibold"><%= i18n.__('Recharge history') %></h5>
						</div>

						<table class="table datatable-basic table-hover">
							<thead>
								<tr>
                                    <th class="text-center"><%= i18n.__('Order ID') %></th>
                                    <th class="text-center"><%= i18n.__('Transaction ID') %></th>
                                    <th class="text-center"><%= i18n.__('Content') %></th>
									<th class="text-center"><%= i18n.__('Price') %></th>
                                    <th class="text-center"><%= i18n.__('Service') %></th>
                                    <th class="text-center"><%= i18n.__('Method') %></th>
                                    <th class="text-center"><%= i18n.__('Time') %></th>
                                    <th class="text-center"><%= i18n.__('Status') %></th>
								</tr>
							</thead>
							<tbody>
                                <% orders.forEach(order => { 
                                    let badge_type = 'success';
                                    if (order.errorMessage && order.errorMessage !== 'Giao dịch thành công') {
                                        badge_type = 'warning'
                                    }
                                %> 
								<tr>
                                    <td class="text-center"><a href="#"><%= (order.orderId) ? order.orderId : i18n.__('Undefined') %></a></td>
									<td class="text-center"><a href="#"><%= (order.transactionId) ? order.transactionId : i18n.__('Undefined') %></a></td>
									<td class="text-center"><%= (order.trans_info) ? order.trans_info : i18n.__('Undefined') %></td>
                                    <td class="text-center"><%= (order.price) ? order.price : i18n.__('Undefined') %></td>
                                    <td class="text-center"><%= (order.service) ? order.service : i18n.__('Undefined') %></td>
                                    <td class="text-center"><%= (order.type) ? order.type : i18n.__('Undefined') %></td>
                                    <td class="text-center"><%= (order.createdAt) ? moment(order.createdAt).tz('Asia/Ho_Chi_Minh').format("YYYY/MM/DD, HH:mm:ss") : i18n.__('Undefined') %></td>
                                    <td class="text-center"><span class="badge badge-<%= badge_type %>"><%= (order.errorMessage) ? order.errorMessage : i18n.__('Undefined') %></span></td>
                                    <td hidden></td>
                                </tr>
                                <% }) %>
							</tbody>
						</table>
					</div>
					<!-- /basic column reorder -->


        </div>
        <!-- /left content -->

    </div>
    <!-- /inner container -->

</div>

<script>
    // Basic datatable
    $('.datatable-basic').DataTable({
        autoWidth: false,
        columnDefs: [{ 
            orderable: false,
            width: 100,
            targets: [ 8 ]
        }],
        dom: '<"datatable-header"fl><"datatable-scroll"t><"datatable-footer"ip>',
        language: {
            search: '<span>Filter:</span> _INPUT_',
            searchPlaceholder: 'Type to filter...',
            lengthMenu: '<span>Show:</span> _MENU_',
            paginate: { 'first': 'First', 'last': 'Last', 'next': $('html').attr('dir') == 'rtl' ? '&larr;' : '&rarr;', 'previous': $('html').attr('dir') == 'rtl' ? '&rarr;' : '&larr;' }
        },
        order: [ 6, 'desc' ],
    });
</script>